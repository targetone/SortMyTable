<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo SortMyTable</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f4f4f4;
            cursor: pointer;
            position: relative;
            padding-right: 1.5em;
        }
    </style>
</head>
<body>
    <h1>Demo SortMyTable</h1>
    <p>Clique nos cabeçalhos das colunas para ordenar a tabela. Colunas com o atributo <code>data-sort-ignore</code> não serão ordenáveis.</p>

    <!-- Tabela com diferentes formatos -->
    <table id="myTable">
        <thead>
            <tr>
                <th>Nome</th>
                <th data-sort-ignore>Cargo</th>
                <th data-is-number>Salário</th>
                <th data-is-number>Idade</th>
                <th data-is-date>Data de Admissão</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>John Doe</td><td>Desenvolvedor</td><td>US$ 50,000.00</td><td>28</td><td>15/01/2018</td></tr>
            <tr><td>Jane Smith</td><td>Designer</td><td>US$ 60,000.50</td><td>34</td><td>23/08/2017</td></tr>
            <tr><td>Emily Jones</td><td>Gerente</td><td>US$ 75,000.75</td><td>41</td><td>12/05/2015</td></tr>
            <tr><td>Michael Brown</td><td>Desenvolvedor</td><td>US$ 55,500.00</td><td>25</td><td>30/06/2020</td></tr>
            <tr><td>Linda White</td><td>Designer</td><td>US$ 65,300.00</td><td>30</td><td>04/11/2019</td></tr>
            <tr><td>David Wilson</td><td>Gerente</td><td>US$ 85,000.00</td><td>45</td><td>27/03/2014</td></tr>
            <tr><td>Daniel Garcia</td><td>Desenvolvedor</td><td>US$ 58,750.00</td><td>32</td><td>11/12/2016</td></tr>
            <tr><td>Patricia Martinez</td><td>Designer</td><td>US$ 70,000.25</td><td>29</td><td>18/09/2018</td></tr>
            <tr><td>Christopher Anderson</td><td>Gerente</td><td>US$ 90,100.99</td><td>50</td><td>22/07/2013</td></tr>
            <tr><td>Jessica Taylor</td><td>Desenvolvedor</td><td>US$ 53,400.00</td><td>27</td><td>14/02/2021</td></tr>
        </tbody>
    </table>

    <!-- Tabelas adicionais para mostrar diferentes formatos -->
    <h2>Tabela com Porcentagem e Diferentes Formatos de Data</h2>
    <table id="myTable2">
        <thead>
            <tr>
                <th>Nome</th>
                <th data-is-number data-decimal-separator=",">Receita</th>
                <th data-is-number>Crescimento</th>
                <th data-is-date>Data</th>
            </tr>
        </thead>
        <tbody>
            <tr><td>Alpha Corp</td><td>€ 1.200.000,00</td><td>10%</td><td>2024-07-20</td></tr>
            <tr><td>Beta Ltd</td><td>£ 850.500,75</td><td>5%</td><td>19/07/2024</td></tr>
            <tr><td>Gamma Inc</td><td>$ 950.000,50</td><td>8%</td><td>18-07-2024</td></tr>
            <tr><td>Delta Co</td><td>¥ 1.100.000,00</td><td>15%</td><td>17 July 2024</td></tr>
        </tbody>
    </table>

    <h2>Documentação e Exemplos</h2>
    <p>Esta demonstração mostra as funcionalidades da biblioteca <strong>SortMyTable</strong>.</p>
    <h3>Inicialização</h3>
    <p>Para ativar a ordenação em uma tabela, inicialize a biblioteca com o elemento da tabela:</p>
    <pre><code>const tableSorter = new SortMyTable(document.getElementById('myTable'));</code></pre>

    <h3>Funcionalidade de Ordenação</h3>
    <p>Clique nos cabeçalhos das colunas para ordenar a tabela. A ordenação alterna entre ordem crescente e decrescente.</p>
    <p>Colunas com o atributo <code>data-sort-ignore</code> não serão ordenáveis.</p>

    <h3>Funções Adicionais</h3>
    <ul>
        <li><strong>Obter Configuração Atual de Ordenação:</strong></li>
        <pre><code>console.log(tableSorter.getSortingConfiguration());</code></pre>
        <li><strong>Aplicar Configuração de Ordenação:</strong></li>
        <pre><code>tableSorter.applySortingConfiguration({ index: 2, order: 'ascending' });</code></pre>
        <li><strong>Desativar Ordenação:</strong></li>
        <pre><code>tableSorter.disableSorting();</code></pre>
    </ul>

    <h3>Formatos Suportados</h3>
    <p>A biblioteca reconhece e converte diferentes formatos de números e datas.</p>

    <h4>Números</h4>
    <p>A função <code>parseNumber</code> identifica automaticamente o formato, ou pode seguir o separador decimal definido manualmente no <code>data-decimal-separator</code> do cabeçalho.</p>
    <ul>
        <li><code>R$ 4.321,64</code> (pt-BR)</li>
        <li><code>US$ 10,000.99</code> (en-US)</li>
        <li><code>47%</code> (porcentagem)</li>
        <li><code>45</code> (inteiro)</li>
    </ul>
    <p>Texto não numérico é convertido para <code>99999999999</code>.</p>
    <h4>Datas</h4>
    <p>A função <code>parseDate</code> identifica e converte vários formatos de data, incluindo:</p>
    <ul>
        <li><code>2024-07-19</code> (YYYY-MM-DD)</li>
        <li><code>19/07/2024</code> (DD/MM/YYYY)</li>
        <li><code>19-07-2024</code> (DD-MM-YYYY)</li>
        <li><code>19 July 2024</code> (DD MMM YYYY)</li>
        <li><code>2024/07/19</code> (YYYY/MM/DD)</li>
        <li><code>2024-07-19T15:30:00</code> (YYYY-MM-DDTHH:MM:SS)</li>
    </ul>

    <h3>Customizando o CSS</h3>
    <p>O CSS básico para a tabela está incluído diretamente no arquivo HTML. Você pode customizar os estilos editando o arquivo <code>style.css</code>:</p>
    <pre><code>th[aria-sort]:after {
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    position: absolute;
    margin-left: 10px;
    top: 50%;
    transform: translateY(-50%);
}

th[aria-sort="ascending"]:after {
    content: "\f0de"; /* Unicode para o ícone de ordenação ascendente */
}

th[aria-sort="descending"]:after {
    content: "\f0dd"; /* Unicode para o ícone de ordenação descendente */
}

th[data-sort-ignore] {
    cursor: default;
}</code></pre>

    <script src="SortMyTable.js"></script>
    <script>
        // Inicializar SortMyTable para a primeira tabela
        const tableSorter1 = new SortMyTable(document.getElementById('myTable'));

        // Inicializar SortMyTable para a segunda tabela
        const tableSorter2 = new SortMyTable(document.getElementById('myTable2'));

        // Exemplo: Obter configuração atual de ordenação
        console.log('Configuração de ordenação atual para a tabela 1:', JSON.stringify(tableSorter1.getSortingConfiguration()));
        console.log('Configuração de ordenação atual para a tabela 2:', JSON.stringify(tableSorter2.getSortingConfiguration()));

        // Exemplo: Aplicar configuração de ordenação na tabela 1
        tableSorter1.applySortingConfiguration({ index: 2, order: 'ascending' });
        console.log('Configuração de ordenação atual para a tabela 1 após aplicar crescente:', JSON.stringify(tableSorter1.getSortingConfiguration()));

        // Exemplo: Desativar ordenação para a tabela 2
        // tableSorter2.disableSorting();
    </script>
</body>
</html>
